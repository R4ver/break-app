$(document).ready(function(){var a=($("body"),[]);$.getJSON("assets/scripts/data.json",function(s){a=s,t(),e("Home")}),setInterval(function(){i(localStorage.getItem("aspit_location"))},1e3);var t=function(){"Notification"in window?"denied"!==Notification.permission&&Notification.requestPermission():alert("This browser does not support desktop notification")},e=function(t){$(".page-article").empty();for(var e in a.aspit){var s=a.aspit[e],i=s.city,n=s.times,l=s.page,c=s.content;if(i===t)for(var r=0;r<s.times.length;r++)$(".page-article").append("<section class='article-card'><span>Pause: "+n[r][0]+" - "+n[r][1]+"</span></section>");l===t&&$(".page-article").append("<p>"+c+"</p>")}o()},s=function(a,t,e){{var s={body:a,icon:t};new Notification(e,s)}},i=function(t){for(var e in a.aspit){{var i=a.aspit[e],o=i.city;i.times}if(o===t)for(var n=0;n<i.times.length;n++){var l=(new Date).getHours(),c=(new Date).getMinutes(),r=(new Date).getSeconds(),p=[];p+=i.times[n];var m=p.replace(/:|,/g," ").split(" ").map(Number);l===m[0]&&c===m[1]&&0===r&&s("Time to take a break","assets/images/alarm.svg","Break "+l+":"+c),l===m[2]&&c===m[3]&&0===r&&s("Class start again","assets/images/alarm.svg","Break Over")}}},o=function(){var a=$(".set-location"),t=$(".location-name").html();a.css("display","none"),t===localStorage.getItem("aspit_location")?(a.addClass("set-location set-location--disabled"),a.removeAttr("href"),console.log("true")):(a.removeClass("set-location set-location--disabled"),a.addAttr("href","#"),console.log("false")),$(".page-content").hasClass("city")&&($(".set-location").css("display","inline-block"),a.click(function(){localStorage.setItem("aspit_location",t)}))};$(".page-nav ul li a").click(function(){if($(".page-nav ul li a").hasClass("nav--active")&&($(".page-nav ul li a").removeClass("nav--active"),$(this).addClass("nav--active")),$(this).hasClass("nav-item")){var a=$(this).html();$("#pageMain").removeAttr("class"),$(".set-location").empty(),$(".set-location").css("display","none"),$("#pageMain").addClass("page-content page page-"+a),$(".page-city").html(a),e(a)}if($(this).hasClass("nav-city")){var t=$(this).html();$("#pageMain").removeAttr("class"),$(".set-location").removeAttr("class"),$(".set-location").empty(),$("#pageMain").addClass("page-content city city-"+t),$(".set-location").addClass("set-location set-location--name="+t),$(".set-location").html("Set location: <span class='location-name'>"+t+"</span>"),$(".page-city").html(t+" Times"),e(t)}})});